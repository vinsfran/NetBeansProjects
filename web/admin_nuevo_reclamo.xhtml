<ui:composition xmlns="http://www.w3.org/1999/xhtml"  
                xmlns:h="http://java.sun.com/jsf/html"  
                xmlns:f="http://java.sun.com/jsf/core"  
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" 
                template="/templates/admin/main.xhtml">

    <ui:define name="content">    
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h2>Nuevo reclamo</h2>
                    </div>
                </div>
                <!-- /. ROW  -->
                <hr />
                <div class="row">
                    <div class="col-md-12">
                        <!-- Advanced Tables -->
                        <div class="panel panel-info">
                            <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
                            <h:form  id="form" styleClass="form" style="width: 600px" >
                                <div id="detalle" align="center">
                                    <h:outputText id="text" value="#{usuario.empresa}" style="width: 250px;" />
                                    <hr/>
                                    <h3>Seleccione su reclamo</h3>
                                    <div id="combo" align="left">
                                        <h:panelGrid columns="3">
                                            <h:outputLabel style="width: 250px;" value="Seleccione un tipo de reclamo:" for="tiposReclamos"/>
                                            <p:selectOneMenu id="tiposReclamos" 
                                                             style="width: 300px; "  
                                                             value="#{reclamosWebMB.reclamos.fkCodTipoReclamo.codTipoReclamo}">

                                                <f:selectItem itemLabel="Seleccione un tipo de reclamo" 
                                                              noSelectionOption="false"
                                                              itemDisabled="true"/>
                                                <f:selectItems value="#{tiposReclamosMB.listarTiposReclamos2}" 
                                                               var="tiposReclamos" 
                                                               itemValue="#{tiposReclamos.codTipoReclamo}" 
                                                               itemLabel="#{tiposReclamos.nombreTipoReclamo}"/>
                                                <p:ajax event="change" listener="#{reclamosWebMB.seleccionarReclamo()}" update="gmap"/>
                                            </p:selectOneMenu>
                                        </h:panelGrid>
                                    </div>

                                </div>
                                <div id="historias" align="left">
                                    <h4>Ubicaci贸n del Reclamo</h4>
                                    <h>Haga click sobre el mapa para marcar la ubicaci贸n del reclamo.</h>
                                    <div id="for">

                                        <p:gmap id="gmap"
                                                center="#{reclamosWebMB.reclamos.latitud}, #{reclamosWebMB.reclamos.longitud}" 
                                                zoom="#{reclamosWebMB.zoom}" type="HYBRID"  
                                                style="width:600px;height:400px"
                                                model="#{reclamosWebMB.emptyModel}">

                                            <p:ajax event="stateChange" listener="#{reclamosWebMB.onStateChange}"/>
                                            <p:ajax event="pointSelect" listener="#{reclamosWebMB.puntoSelecionado}" update="gmap" />
                                        </p:gmap>

                                    </div>
                                    <div>
                                        <br/>
                                        <h:outputLabel style="width: 200px;" value="Descripci贸n del reclamo:" for="descri"/>
                                        <br/>
                                        <h:inputTextarea  required="false" 
                                                          cols="50" 
                                                          rows="5" 
                                                          id="descri" 
                                                          value="#{reclamosWebMB.reclamos.descripcionReclamoContribuyente}"
                                                          title="Descripci贸n del reclamo"
                                                          style="width:600px;height:50px">
                                            <f:validateLength maximum="500"/>
                                        </h:inputTextarea>

                                        <hr/>
                                    </div>
                                    <h:commandButton action="#{reclamosWebMB.enviarReclamo()}" 
                                                     value="Enviar" 
                                                     styleClass="submit" 
                                                     style="margin-left: 200px"/>                                  
                                </div>

                            </h:form>



                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /. PAGE INNER  -->
        <!-- /. WRAPPER  -->
    </ui:define>
</ui:composition>   
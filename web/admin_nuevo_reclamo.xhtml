<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/admin/main.xhtml">

    <ui:define name="content">    
        <div id="page-wrapper" >
            <div id="page-inner">
                <div class="row">
                    <div class="col-md-12">
                        <h2>Nuevo reclamo</h2>
                    </div>
                </div>
                <!-- /. ROW  -->
                <hr />
                <div class="row">
                    <div class="col-md-12">
                        <!-- Form Elements -->
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                Formulario de reclamo
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <h:form >
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Seleccione un tipo de reclamo</label>



                                                <h:selectOneMenu value="#{mbSReclamos.tipoDeReclamosSeleccionado}" class="form-control">
                                                    <f:selectItem itemLabel="Seleccione un tipo de reclamo" 
                                                                  noSelectionOption="false"
                                                                  itemDisabled="true"
                                                                  />

                                                    <f:selectItems value="#{mbSReclamos.tiposDeReclamos}" 
                                                                   var="tiposReclamos" 
                                                                   itemValue="#{tiposReclamos}" 
                                                                   itemLabel="#{tiposReclamos.nombreTipoReclamo}"/>
                                                    <p:ajax partialSubmit="true" listener="#{mbSReclamos.seleccionarTipoDeReclamo(event)}" update="gmap"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <label>Haga click sobre el mapa para marcar la ubicaci√≥n del reclamo</label>

                                            <div class="gmap">
                                                <p:gmap id="gmap"
                                                        center="#{mbSReclamos.latitud}, #{mbSReclamos.longitud}" 
                                                        zoom="#{mbSReclamos.zoom}" type="HYBRID"  
                                                        style="width:100%;height:400px"
                                                        model="#{mbSReclamos.emptyModel}">

                                                    <p:ajax event="stateChange" listener="#{reclamosWebMB.onStateChange}"/>
                                                    <p:ajax event="pointSelect" listener="#{reclamosWebMB.puntoSelecionado}" update="gmap" />
                                                </p:gmap>

                                            </div>
                                        </div>
                                    </h:form>
                                    <!--<h:outputScript name="app/google-map-loader.js" library="js" target="head"/>-->
                                    <script src="https://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript">
                                    </script>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>   